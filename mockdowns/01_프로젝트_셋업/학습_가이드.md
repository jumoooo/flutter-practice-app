# 📦 1단계: 프로젝트 셋업 및 환경 구성

## 🎯 학습 목표
- Flutter 개발 환경이 제대로 설정되어 있는지 확인
- 프로젝트 구조 이해하기
- 개발 도구 사용법 익히기
- Git 초기 설정하기

---

## ✅ 사전 체크리스트

### 1. Flutter 설치 확인
터미널에서 다음 명령어 실행:

#### Git Bash 사용 시 (현재 프로젝트)
프로젝트 내에 Flutter SDK가 포함되어 있으므로, 다음 중 하나의 방법을 사용하세요:

**방법 1: 프로젝트 내 Flutter 직접 사용 (권장)**
```bash
# 프로젝트 디렉토리에서
./flutter/bin/flutter doctor
```

**방법 2: PATH에 추가 (현재 세션만)**
```bash
# Git Bash에서
export PATH="$PWD/flutter/bin:$PATH"
flutter doctor
```

**방법 3: 전체 경로 사용**
```bash
E:/Flutter_Project/training/chapter_1/flutter/bin/flutter doctor
```

#### Windows CMD 사용 시
```bash
# setup_path.bat 실행 후
setup_path.bat
flutter doctor
```

**확인해야 할 항목:**
- ✅ Flutter (Channel stable, 최신 버전) - [!] 경고는 무시 가능 (직접 경로 사용 시)
- ✅ Android toolchain (Android Studio 설치 확인) - Android 개발 시 필요
- ✅ VS Code 또는 Android Studio (에디터) - 개발 도구
- ✅ Connected device (에뮬레이터 또는 실제 기기) - 앱 실행 시 필요
- ⚠️ Visual Studio - Windows 앱 개발 시에만 필요 (Android/iOS 개발 시 무시 가능)

**flutter doctor 결과 해석:**
- `[√]` (체크): 정상 작동
- `[!]` (느낌표): 경고 (작동은 하지만 개선 권장)
- `[X]` (X): 문제 있음 (필요 시 해결)

**현재 상태:**
- Flutter는 정상 작동 중 (경로 경고는 무시 가능)
- Android SDK가 없음 (Android 개발 시 필요)
- Visual Studio 없음 (Windows 앱 개발 시에만 필요, 무시 가능)

**문제가 있다면:**
- Flutter 공식 문서: https://docs.flutter.dev/get-started/install

---

## 📁 프로젝트 구조 이해하기

### 현재 프로젝트 구조

```
chapter_1/
├── android/          # Android 플랫폼 설정
├── ios/              # iOS 플랫폼 설정
├── lib/              # Dart 소스 코드 (여기서 주로 작업!)
│   └── main.dart     # 앱의 시작점
├── test/             # 테스트 코드
├── pubspec.yaml      # 프로젝트 설정 및 의존성 관리
└── README.md         # 프로젝트 설명
```

### 핵심 파일 설명

#### 1. `lib/main.dart`
- **역할:** 앱의 시작점
- **내용:** 모든 Dart 코드는 여기서 시작
- **중요:** 여기서 주로 코딩하게 됩니다!

#### 2. `pubspec.yaml`
- **역할:** 프로젝트 설정 및 패키지 관리
- **내용:**
  - 프로젝트 이름, 버전
  - 사용할 패키지 목록
  - 앱 아이콘, 폰트 등 리소스 설정

#### 3. `android/`, `ios/`
- **역할:** 각 플랫폼별 네이티브 설정
- **중요:** 배포할 때 여기서 설정을 변경합니다

---

## 🛠️ 개발 도구 사용법

### 1. VS Code 사용 시 (추천)

#### 필수 확장 프로그램
1. **Flutter** (Dart 포함)
2. **Dart**

#### 유용한 단축키
- `Ctrl + Shift + P`: 명령 팔레트
- `F5`: 디버그 실행
- `Ctrl + F5`: 디버그 없이 실행
- `Ctrl + .`: 빠른 수정 (Quick Fix)

#### 디버깅
- 중단점(Breakpoint) 설정: 코드 왼쪽 클릭
- 변수 값 확인: 디버그 모드에서 마우스 오버

---

### 2. Android Studio 사용 시

#### Flutter 플러그인 설치
1. File → Settings → Plugins
2. "Flutter" 검색 후 설치

#### 에뮬레이터 실행
1. Tools → Device Manager
2. 원하는 기기 선택 후 실행

---

## 🚀 프로젝트 실행하기

### 1. 에뮬레이터 또는 실제 기기 연결

#### Android 에뮬레이터
```bash
# 에뮬레이터 목록 확인
flutter emulators

# 에뮬레이터 실행
flutter emulators --launch <에뮬레이터_이름>
```

**⚠️ 에뮬레이터가 없는 경우:**
```
Unable to find any emulator sources. Please ensure you have some
Android AVD images available.
```

**이 메시지가 나오는 이유:**
- Android Studio가 설치되지 않았거나
- Android Virtual Device (AVD)가 생성되지 않았습니다

**해결 방법:**
1. **Android Studio 설치** (완전한 해결책)
   - [Android Studio 다운로드](https://developer.android.com/studio)
   - 설치 후 AVD Manager에서 에뮬레이터 생성

2. **실제 Android 기기 사용** (더 빠름!)
   - USB 디버깅 활성화
   - USB로 연결

3. **웹으로 실행** (가장 간단!)
   - Chrome이 설치되어 있으면 바로 가능
   - `flutter run -d chrome`

4. **일단 학습 계속 진행** (권장!)
   - 에뮬레이터 없이도 학습 가능
   - 나중에 Android Studio 설치해도 됨

#### 실제 기기 연결 (핸드폰으로 보기!)

**Android 기기 사용 (권장!)**

1. **USB 디버깅 활성화**
   - 설정 → 휴대전화 정보 → 빌드 번호를 7번 연속 탭
   - 설정 → 개발자 옵션 → USB 디버깅 활성화

2. **USB로 연결**
   - USB 케이블로 컴퓨터와 연결
   - **USB 연결 모드 선택 팝업이 나타나면:**
     - ✅ **"파일 전송" 또는 "파일 전송/Android Auto" 선택** (중요!)
     - ❌ "휴대전화 충전만" 선택하면 안 됨
     - ❌ "이미지 전송"만으로는 부족함
   - "USB 디버깅 허용" 팝업에서 "항상 이 컴퓨터에서 허용" 체크 후 "허용" 선택

3. **기기 확인**
   ```bash
   flutter devices
   # 또는
   ./flutter/bin/flutter devices
   ```
   
   연결되면 다음과 같이 표시됩니다:
   ```
   SM-G991N (mobile) • R58M30ABCDE • android-arm64 • Android 13 (API 33)
   ```
   
   **Android 기기가 보이지 않는 경우:**
   - USB 연결 모드가 "파일 전송"인지 확인
   - USB 디버깅이 활성화되었는지 확인
   - USB 케이블을 뽑았다가 다시 연결
   - 자세한 해결 방법은 `해결_가이드.md` 참고

4. **앱 실행**
   ```bash
   flutter run
   # 또는
   ./flutter/bin/flutter run
   ```
   
   **핸드폰에 앱이 설치되고 실행됩니다!** 📱

**장점:**
- ✅ 실제 기기에서 테스트 가능
- ✅ 터치, 제스처 등 실제 사용자 경험 확인
- ✅ 성능 테스트 가능
- ✅ 에뮬레이터보다 빠름

**iOS 기기 (Mac 필요)**
- 개발자 모드 활성화
- Xcode 설치 필요

### 2. 앱 실행

#### Git Bash 사용 시
```bash
# PATH 설정 (현재 세션만)
export PATH="$PWD/flutter/bin:$PATH"

# 현재 연결된 기기 확인
flutter devices

# 앱 실행
flutter run

# 핫 리로드 (코드 수정 후)
# 터미널에서 'r' 키 누르기

# 핫 리스타트 (앱 재시작)
# 터미널에서 'R' 키 누르기
```

#### 또는 프로젝트 내 Flutter 직접 사용
```bash
# 현재 연결된 기기 확인
./flutter/bin/flutter devices

# 앱 실행
./flutter/bin/flutter run
```

#### 웹으로 실행 (에뮬레이터 없을 때)
```bash
# Chrome으로 실행
./flutter/bin/flutter run -d chrome

# 또는 PATH 설정 후
export PATH="$PWD/flutter/bin:$PATH"
flutter run -d chrome
```

**웹 실행의 장점:**
- ✅ 에뮬레이터 설치 불필요
- ✅ 빠른 실행 속도
- ✅ 학습하기에 충분함
- ✅ Chrome만 있으면 됨

#### 실행 방법 비교

| 방법 | 장점 | 단점 |
|------|------|------|
| **실제 기기** | 실제 환경 테스트, 빠름 | USB 연결 필요 |
| **웹 (Chrome)** | 설치 불필요, 빠름 | 모바일 기능 제한 |
| **에뮬레이터** | 다양한 기기 테스트 | 설치 필요, 느림 |

**추천 순서:**
1. **실제 Android 기기** (가장 좋음!) 📱
2. **웹 (Chrome)** (가장 간단) 🌐
3. **에뮬레이터** (나중에 설치) 📲

---

## 📦 패키지 관리

### 패키지 추가하기

#### 1. pubspec.yaml에 추가
```yaml
dependencies:
  flutter:
    sdk: flutter
  http: ^1.1.0  # 예시: HTTP 요청 패키지
```

#### 2. 패키지 설치

**Git Bash 사용 시:**
```bash
# PATH 설정 후
export PATH="$PWD/flutter/bin:$PATH"
flutter pub get

# 또는 직접 경로 사용
./flutter/bin/flutter pub get
```

#### 3. 코드에서 사용
```dart
import 'package:http/http.dart' as http;
```

### 유용한 패키지 추천
- `http`: HTTP 요청
- `provider`: 상태 관리
- `shared_preferences`: 로컬 저장소
- `image_picker`: 이미지 선택
- `url_launcher`: 외부 링크 열기

---

## 🔧 Git 초기 설정

### 1. Git 저장소 초기화

```bash
# 현재 프로젝트 디렉토리에서
git init
```

### 2. .gitignore 파일 확인

프로젝트 루트에 `.gitignore` 파일이 있어야 합니다:

```
# Flutter 관련
/build/
/.dart_tool/
/.flutter-plugins
/.flutter-plugins-dependencies
/pubspec.lock

# IDE 관련
.idea/
.vscode/
*.iml

# OS 관련
.DS_Store
Thumbs.db
```

### 3. 첫 커밋

```bash
# 파일 추가
git add .

# 커밋
git commit -m "Initial commit: Flutter 학습 프로젝트 시작"
```

### 4. GitHub에 연결 (나중에)

```bash
# GitHub 저장소 생성 후
git remote add origin <저장소_URL>
git branch -M main
git push -u origin main
```

---

## 🎯 실습 체크리스트

다음 항목들을 확인하고 완료하세요:

- [x] `flutter doctor` 실행하여 환경 확인
- [x] 프로젝트 구조 이해하기
- [ ] 에뮬레이터 또는 실제 기기 연결
- [x] `flutter run`으로 앱 실행 성공
- [ ] 핫 리로드 테스트 (코드 수정 후 'r' 키)
- [ ] Git 저장소 초기화
- [ ] VS Code 또는 Android Studio 설정 확인

---

## 💡 다음 단계

이제 기본 환경 설정이 완료되었습니다!

**다음 단계:** `02_Flutter_기초/` 폴더로 이동하여 Flutter의 핵심 개념을 학습하세요.

---

## 🆘 문제 해결

### 자주 발생하는 문제들

#### 1. "No devices found" 또는 "Unable to find any emulator sources"
**원인:**
- 에뮬레이터가 설치되지 않음
- 실제 기기가 연결되지 않음

**해결:**
- **웹으로 실행 (가장 간단!):** `flutter run -d chrome`
- 에뮬레이터 설치: Android Studio 설치 후 AVD 생성
- 실제 기기 연결: USB 디버깅 활성화 후 연결
- `flutter devices` 명령어로 연결된 기기 확인

**학습 단계에서는 웹으로 실행해도 충분합니다!**

#### 2. "Gradle build failed"
**해결:**
```bash
cd android
./gradlew clean
cd ..
flutter clean
flutter pub get
```

#### 3. "Package not found"
**해결:**
```bash
flutter pub get
flutter pub upgrade
```

---

## 📚 참고 자료

- [Flutter 공식 문서](https://docs.flutter.dev/)
- [Dart 언어 투어](https://dart.dev/guides/language/language-tour)
- [Flutter 패키지 검색](https://pub.dev/)

**준비되셨나요? 이제 실습 문제로 넘어가세요! 🚀**
