# 💡 1단계 해결 가이드: 프로젝트 셋업

## 문제 해결 방법 모음

이 문서는 실습 문제를 풀다가 막혔을 때 참고하는 가이드입니다.
**먼저 스스로 해결하려고 노력하고, 정말 막혔을 때만 참고하세요!**

---

## 📱 실제 Android 기기 연결하기

### USB로 연결하는 방법

1. **개발자 옵션 활성화**
   - 설정 → 휴대전화 정보 → 빌드 번호를 7번 연속 탭
   - "개발자가 되었습니다!" 메시지 확인

2. **USB 디버깅 활성화**
   - 설정 → 개발자 옵션 → USB 디버깅 ON

3. **USB로 연결**
   - USB 케이블로 컴퓨터와 연결
   - **USB 연결 모드 선택 팝업이 나타나면:**
     ```
     ✅ 파일 전송 / Android Auto  ← 이것 선택!
     ❌ USB 테더링
     ❌ MIDI
     ❌ 이미지 전송
     ❌ 휴대전화 충전만
     ```
   - "USB 디버깅 허용" 팝업에서 "항상 이 컴퓨터에서 허용" 체크 후 "허용"

4. **연결 확인**
   ```bash
   flutter devices
   ```
   
   연결되면 다음과 같이 표시됩니다:
   ```
   SM-G991N (mobile) • R58M30ABCDE • android-arm64 • Android 13 (API 33)
   ```

5. **앱 실행**
   ```bash
   flutter run
   ```
   
   **핸드폰에 앱이 자동으로 설치되고 실행됩니다!** 🎉

### 연결이 안 될 때

#### Android 기기가 감지되지 않는 경우

**현재 상태:**
```
Found 3 connected devices:
  Windows (desktop) • windows • windows-x64
  Chrome (web)      • chrome  • web-javascript
  Edge (web)        • edge    • web-javascript
```
→ Android 기기가 보이지 않음

**체크리스트:**

1. **USB 연결 모드 확인**
   - 핸드폰에서 "파일 전송" 또는 "파일 전송/Android Auto" 선택했는지 확인
   - "휴대전화 충전만"이 선택되어 있으면 변경 필요

2. **USB 디버깅 확인**
   - 설정 → 개발자 옵션 → USB 디버깅 ON
   - 연결 시 "USB 디버깅 허용" 팝업에서 "허용" 선택

3. **USB 케이블 확인**
   - 데이터 전송 가능한 케이블인지 확인
   - 충전 전용 케이블이 아닌지 확인
   - 다른 USB 포트로 시도

4. **기기 재연결**
   - USB 케이블 뽑았다가 다시 연결
   - 핸드폰 재부팅 후 다시 연결

5. **드라이버 확인 (Windows)**
   - 기기 제조사 홈페이지에서 USB 드라이버 다운로드
   - 또는 Android Studio 설치 시 자동 설치됨

6. **ADB 확인 (선택사항)**
   - Android SDK가 설치되어 있다면:
   ```bash
   # Android SDK의 adb 경로 확인
   # 일반적으로: C:\Users\사용자명\AppData\Local\Android\Sdk\platform-tools\adb.exe
   adb devices
   ```
   - "unauthorized"가 보이면 핸드폰에서 "USB 디버깅 허용" 확인

**임시 해결책:**
- Android 기기가 연결되지 않아도 **웹(Chrome)으로 실행 가능**
  ```bash
  flutter run -d chrome
  ```

#### "No devices found" 에러
- USB 케이블 확인 (데이터 전송 가능한 케이블)
- USB 디버깅 다시 확인
- 기기 재연결
- `adb devices` 명령어로 확인 (Android SDK 필요)

#### 드라이버 문제 (Windows)
- USB 드라이버 설치 필요할 수 있음
- 기기 제조사 홈페이지에서 드라이버 다운로드
- 또는 Android Studio 설치 시 자동 설치됨

---

---

## 문제 1: flutter doctor 에러 해결

### ❌ "Android toolchain - develop for Android devices" 에러

**원인:** Android SDK가 설치되지 않았거나 경로가 설정되지 않음

**해결 방법:**

1. **Android Studio 설치**
   - [Android Studio 다운로드](https://developer.android.com/studio)
   - 설치 후 Android SDK 설치

2. **환경 변수 설정 (Windows)**
   ```bash
   # 시스템 환경 변수에 추가
   ANDROID_HOME = C:\Users\사용자명\AppData\Local\Android\Sdk
   ```

3. **Flutter 경로 확인**
   ```bash
   flutter config --android-sdk <SDK 경로>
   ```

---

### ❌ "VS Code - Flutter extension not installed" 경고

**해결 방법:**

1. VS Code 열기
2. 확장 프로그램 탭 (Ctrl + Shift + X)
3. "Flutter" 검색 후 설치
4. "Dart"도 함께 설치됨

---

### ❌ "No devices found" 에러

**해결 방법:**

1. **에뮬레이터 실행**
   ```bash
   # 사용 가능한 에뮬레이터 확인
   flutter emulators
   
   # 에뮬레이터 실행
   flutter emulators --launch <에뮬레이터_이름>
   ```

2. **실제 기기 연결 (Android)**
   - USB 디버깅 활성화
   - 개발자 옵션 활성화
   - USB로 연결 후 `flutter devices` 확인

---

## 문제 2: 프로젝트 구조 이해

### 📁 주요 파일 위치

```
chapter_1/
├── lib/
│   └── main.dart          ← 여기서 주로 코딩!
├── pubspec.yaml           ← 패키지 관리
├── android/               ← Android 설정
└── ios/                   ← iOS 설정
```

### 💡 pubspec.yaml 주요 항목

```yaml
name: chapter_1              # 프로젝트 이름
version: 1.0.0+1            # 버전 (앱스토어 배포 시 중요)
dependencies:                # 앱 실행에 필요한 패키지
  flutter:
    sdk: flutter
dev_dependencies:           # 개발 시에만 필요한 패키지
  flutter_test:
    sdk: flutter
```

---

## 문제 3: 앱 실행 오류

### ❌ "Gradle build failed"

**해결 방법:**

```bash
# 1. 캐시 정리
flutter clean

# 2. 패키지 재설치
flutter pub get

# 3. Android 빌드 캐시 정리
cd android
./gradlew clean
cd ..

# 4. 다시 실행
flutter run
```

---

### ❌ "Waiting for another flutter command to release the startup lock"

**해결 방법:**

```bash
# Flutter 프로세스 종료
# Windows: 작업 관리자에서 dart.exe 종료
# 또는 재부팅
```

---

### ❌ 핫 리로드가 작동하지 않음

**해결 방법:**

1. **터미널 확인**
   - `flutter run` 실행 후 터미널이 활성화되어 있어야 함
   - 터미널에서 `r` 키 입력

2. **핫 리스타트 시도**
   - `R` (대문자) 키로 앱 재시작

3. **완전 재시작**
   - 앱 종료 후 `flutter run` 다시 실행

---

## 문제 4: Git 설정 오류

### ❌ ".gitignore 파일이 없음"

**해결 방법:**

프로젝트 루트에 `.gitignore` 파일 생성:

```gitignore
# Flutter 관련
/build/
/.dart_tool/
/.flutter-plugins
/.flutter-plugins-dependencies
/pubspec.lock

# IDE 관련
.idea/
.vscode/
*.iml

# OS 관련
.DS_Store
Thumbs.db
```

---

### ❌ "Git이 설치되지 않음"

**해결 방법:**

1. [Git 다운로드](https://git-scm.com/downloads)
2. 설치 후 터미널 재시작
3. `git --version`으로 확인

---

## 문제 5: 패키지 설치 오류

### ❌ "Package not found" 또는 "Version solving failed"

**해결 방법:**

1. **인터넷 연결 확인**
   - 패키지는 pub.dev에서 다운로드됨

2. **버전 확인**
   ```yaml
   # pubspec.yaml에서 버전 형식 확인
   http: ^1.1.0  # 올바른 형식
   ```

3. **캐시 정리**
   ```bash
   flutter pub cache repair
   flutter pub get
   ```

---

### ❌ "Package version conflict"

**해결 방법:**

```bash
# pubspec.lock 삭제 후 재설치
rm pubspec.lock
flutter pub get
```

---

## 문제 6: 개발 도구 문제

### ❌ VS Code에서 Flutter 명령어가 작동하지 않음

**해결 방법:**

1. **Flutter 확장 프로그램 재설치**
   - 확장 프로그램 제거 후 재설치

2. **Flutter 경로 확인**
   ```bash
   # VS Code 설정에서
   # File → Preferences → Settings
   # "flutter.sdk" 검색 후 경로 설정
   ```

3. **VS Code 재시작**

---

### ❌ Android Studio에서 에뮬레이터가 실행되지 않음

**해결 방법:**

1. **AVD Manager 확인**
   - Tools → Device Manager
   - 에뮬레이터가 제대로 생성되어 있는지 확인

2. **하이퍼바이저 활성화**
   - Windows: Hyper-V 또는 VirtualBox
   - BIOS에서 가상화 기능 활성화 필요할 수 있음

---

## 🆘 일반적인 문제 해결 순서

문제가 발생했을 때 다음 순서로 시도해보세요:

1. **에러 메시지 읽기**
   - 에러 메시지에 해결 방법이 나와있을 수 있음

2. **Flutter 정리 및 재설치**
   ```bash
   flutter clean
   flutter pub get
   ```

3. **프로젝트 재시작**
   - 에디터 종료 후 재시작
   - 에뮬레이터 재시작

4. **공식 문서 확인**
   - [Flutter 공식 문서](https://docs.flutter.dev/)
   - [Stack Overflow](https://stackoverflow.com/questions/tagged/flutter)

5. **커뮤니티 도움 요청**
   - Flutter 한국 커뮤니티
   - GitHub Issues

---

## 💡 유용한 명령어 모음

```bash
# Flutter 버전 확인
flutter --version

# 연결된 기기 확인
flutter devices

# 앱 실행
flutter run

# 릴리스 빌드 (Android)
flutter build apk

# 릴리스 빌드 (iOS)
flutter build ios

# 패키지 업데이트
flutter pub upgrade

# 의존성 확인
flutter pub deps
```

---

## ✅ 체크리스트: 모든 것이 정상인지 확인

- [ ] `flutter doctor`에서 모든 항목이 ✅
- [ ] 에뮬레이터 또는 실제 기기 연결됨
- [ ] `flutter run`으로 앱 실행 성공
- [ ] 핫 리로드 작동함
- [ ] Git 저장소 초기화 완료
- [ ] 패키지 추가 및 설치 성공

---

**문제가 해결되지 않았다면?**
- 에러 메시지를 정확히 복사해서 검색해보세요
- Flutter 공식 문서의 Troubleshooting 섹션 확인
- 커뮤니티에 질문하기

**다음 단계로 넘어갈 준비가 되셨나요?** 🚀
